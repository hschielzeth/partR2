---
output: github_document
---

![Build Status](https://travis-ci.org/mastoffel/partR2.svg?branch=master)
<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# partR2

The goal of partR2 is to provide a simple interface for commonality analyses (CA) in
mixed models. CA partitions the overall R2 of a model into the components which are unique to
each fixed effect and shared among combinations of them, which is interesting
in itself and particularly useful in the case of multicollinearity. In addition
to these partitioned R2's the partR2 package calculates structure coefficients (SC).
SC show the correlation between a fixed effect and the predicted response 
and give an intuition of the contribution of that fixed effect to the model
prediction, independent of all other predictors. Finally, partR2 also reports
the model estimates (slopes and variances). All estimates can be combined with 
parametric bootstrapping to get confidence intervals.

partR2 is in an early phase of development and only works with lme4 models
at the moment.

## Installation

You can install partR2 from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("mastoffel/partR2")
```

## Example

```{r example, results = TRUE, warning=FALSE, message=FALSE}
library(partR2)
library(lme4)

?partR2

# load data
data(biomass)
# fit lme4 model
mod <- lmer(Biomass ~  Year + Temperature + SpeciesDiversity + (1|Population),
            data = biomass)

(R2 <- partR2(mod,  partvars = c("SpeciesDiversity", "Temperature", "Year"),
                                 R2_type = "marginal", nboot = 100, CI = 0.95))
```

And to plot the results:
```{r plot, results = TRUE, warning=FALSE}
forestplot(R2, type = "R2")
```
