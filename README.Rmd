---
output: github_document
---

![Build Status](https://travis-ci.org/mastoffel/partR2.svg?branch=master)
<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# partR2

The goal of partR2 is to provide an estimate of R^2^ in GLMMs and to partition the R^2^ into the variance explained by each model component and by their combinations.

In addition to R^2^ and partial R^2^'s the partR2 package calculates structure coefficients (SC). SC show the correlation between a fixed effect and the predicted response and give an intuition of the contribution of that fixed effect to the model prediction, independent of all other predictors. Finally, partR2 also reports the model estimates, i.e. the slopes and variances. 

All estimates can be combined with parametric bootstrapping to get confidence intervals.

partR2 is in an early phase of development and might still contain bugs.

## Installation

You can install partR2 from github with:

```{r gh-installation, eval = FALSE}
# install.packages("devtools")
devtools::install_github("mastoffel/partR2")
```

## Example

```{r example, results = TRUE, warning=FALSE, message=FALSE}
library(partR2)
library(lme4)

?partR2

# load data
data(biomass)
# fit lme4 model
mod <- lmer(Biomass ~  Year + Temperature + SpeciesDiversity + (1|Population),
            data = biomass)

(R2 <- partR2(mod,  partvars = c("SpeciesDiversity", "Temperature", "Year"),
                                 R2_type = "marginal", nboot = 100, CI = 0.95,
                                 data = biomass))
```

And to plot the results:
```{r plot, results = TRUE, warning=FALSE, fig.width=7, fig.height=4}
forestplot(R2, type = "R2", line_size = 0.7, text_size = 14, point_size = 3)
```
